(this["webpackJsonpmy-react-app"]=this["webpackJsonpmy-react-app"]||[]).push([[0],{28:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(21),s=c.n(a),r=(c(28),c(5)),i=c.n(r),l=c(6),o=c(3),d=c(22),j=c(23),b=c(10),u=c.n(b),h="19c7ac68",m="https://www.omdbapi.com/",O=function(){function e(){Object(d.a)(this,e)}return Object(j.a)(e,[{key:"getShowsByTitle",value:function(e,t,c){return u.a.get("".concat(m,"?s=").concat(e,"&type=").concat(t).concat(c?"&page=".concat(c):"","&apikey=").concat(h)).then((function(e){return e.data})).catch((function(e){return console.error(e)}))}},{key:"getShowById",value:function(e){return u.a.get("".concat(m,"?i=").concat(e,"&apikey=").concat(h)).then((function(e){return e.data})).catch((function(e){return console.error(e)}))}}]),e}(),x=c(7),p=c(11),f=c(0),v=function(e){var t=e.setTitleSearchTerm,c=e.setTitleSearchType,a=Object(n.useState)({titleSearchTerm:"",titleSearchType:""}),s=Object(o.a)(a,2),r=s[0],i=s[1],l=function(e){var t=e.target,c=t.name,n=t.value;i(Object(p.a)(Object(p.a)({},r),{},Object(x.a)({},c,n)))};return Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col text-center",children:Object(f.jsxs)("form",{className:"form mb-3",onSubmit:function(e){return function(e){e.preventDefault(),t(r.titleSearchTerm),c(r.titleSearchType||"movie")}(e)},children:[Object(f.jsx)("input",{type:"text",name:"titleSearchTerm",className:"form-control d-inline",placeholder:"Enter movie, series, or episode name...",required:!0,onChange:function(e){return l(e)},style:{width:"19em",marginRight:"8px"},value:r.titleSearchTerm}),Object(f.jsxs)("select",{name:"titleSearchType",className:"form-select d-inline",placeholder:"Type",value:r.titleSearchType,required:!0,onChange:function(e){return l(e)},style:{width:"7em",marginRight:"8px"},children:[Object(f.jsx)("option",{value:"",disabled:!0,children:"Type"}),Object(f.jsx)("option",{value:"movie",children:"Movie"}),Object(f.jsx)("option",{value:"series",children:"Series"}),Object(f.jsx)("option",{value:"episode",children:"Episode"})]}),Object(f.jsx)("button",{type:"submit",className:"btn btn-primary d-inline",children:"Submit"})]})})})},g=function(e){var t=e.id,c=Object(n.useState)(),a=Object(o.a)(c,2),s=a[0],r=a[1];return Object(n.useEffect)((function(){var e=new O;(function(){var t=Object(l.a)(i.a.mark((function t(c){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getShowById(c);case 2:n=t.sent,r(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}})()(t)}),[t]),s?Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-md-6 text-center",children:"N/A"===s.Poster?Object(f.jsx)("div",{className:"d-none d-md-block",style:{position:"relative",width:"100%",paddingBottom:"150%",background:"grey"},children:Object(f.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle text-light",children:"No Poster"})}):Object(f.jsx)("img",{src:s.Poster,alt:"".concat(s.Title," poster"),style:{maxWidth:"100%"}})}),Object(f.jsxs)("div",{className:"col-md-6",children:["N/A"!==s.imdbRating&&Object(f.jsx)("strong",{className:"float-end text-primary h4",children:s.imdbRating}),Object(f.jsx)("h4",{children:Object(f.jsx)("strong",{children:s.Title})}),"N/A"!==s.Rated&&Object(f.jsx)("span",{className:"badge bg-secondary m-1",children:s.Rated}),"N/A"!==s.Runtime&&Object(f.jsx)("span",{className:"badge bg-secondary m-1",children:s.Runtime}),"N/A"!==s.Genre&&Object(f.jsx)("span",{className:"badge bg-secondary m-1",children:s.Genre}),"N/A"!==s.Plot&&Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"Plot"}),Object(f.jsx)("br",{}),s.Plot]}),"N/A"!==s.Actors&&Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"Actors"}),Object(f.jsx)("br",{}),s.Actors]})]})]}):Object(f.jsx)("h2",{children:"Loading..."})},y=function(e){var t=e.show,c=e.onClose,n=e.children;return t?Object(f.jsx)("div",{className:"modal fade show",id:"exampleModal",tabIndex:"-1",style:{display:"block"},children:Object(f.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-scrollable",children:Object(f.jsxs)("div",{className:"modal-content p-0",children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:c})}),Object(f.jsx)("div",{className:"modal-body",children:n}),Object(f.jsx)("div",{className:"modal-footer",children:Object(f.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:c,children:"Close"})})]})})}):null},N=function(e){var t=e.showList,c=Object(n.useState)(),a=Object(o.a)(c,2),s=a[0],r=a[1],i=function(){return r(null)};return t.map((function(e,t){return Object(f.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6 mb-4",children:[Object(f.jsxs)("div",{className:"card",onClick:function(){return r(e.imdbID)},style:{cursor:"pointer"},children:["N/A"===e.Poster?Object(f.jsx)("div",{style:{position:"relative",width:"100%",paddingBottom:"150%",background:"grey"},children:Object(f.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle text-light",children:"No Poster"})}):Object(f.jsx)("div",{className:"card-img-top",style:{width:"100%",maxHeight:"150%",background:"grey no-repeat center",overflow:"hidden"},children:Object(f.jsx)("img",{src:e.Poster,alt:"".concat(e.Title," poster"),style:{width:"100%"}})}),Object(f.jsx)("div",{className:"card-body",children:Object(f.jsx)("p",{className:"card-title",children:e.Title})})]}),s&&Object(f.jsx)(y,{show:s,onClose:i,children:Object(f.jsx)(g,{id:s})})]},t)}))},w=c(51),S=function(e){for(var t=e.totalResults,c=e.currentPage,n=e.setCurrentPage,a=t?Math.ceil(t/10):[],s=[],r=0;r<a;r++)s.push({count:r+1});var i={paddingLeft:"0.2em",paddingRight:"0.2em"},l=[Object(f.jsx)(w.a,{disabled:1===c,onClick:function(){return n(c-1)},style:i,children:"<"},"previous")],o=s.slice(0,1),d=c>3?[Object(f.jsx)(w.a,{disabled:!0,style:i,children:"..."},"firstThreeDots")]:[],j=c>0?s.slice(Math.max(c-2,1),Math.min(c+1,a-1)):[],b=c<a-2?[Object(f.jsx)(w.a,{disabled:!0,style:i,children:"..."},"lastThreeDots")]:[],u=s.slice(-1),h=[Object(f.jsx)(w.a,{disabled:c===a,onClick:function(){return n(c+1)},style:i,children:">"},"next")],m=function(e){return e.map((function(e){var t=e.count;return Object(f.jsx)(w.a,{disabled:t===c,onClick:function(){return n(t)},children:t},t)}))},O=[].concat(l,m(o),d,m(j),b,m(u),h),x=[].concat(l,m(s),h);return Object(f.jsxs)("div",{className:"text-center",children:[a>1&&Object(f.jsxs)("p",{children:["Page ",c," of ",a]}),a>1&&(a>7?O:x)]})},T=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(),r=Object(o.a)(s,2),d=r[0],j=r[1],b=Object(n.useState)([]),u=Object(o.a)(b,2),h=u[0],m=u[1],x=Object(n.useState)(0),p=Object(o.a)(x,2),g=p[0],y=p[1],w=Object(n.useState)(1),T=Object(o.a)(w,2),k=T[0],P=T[1];return Object(n.useEffect)((function(){var e=new O;(function(){var t=Object(l.a)(i.a.mark((function t(c,n,a){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getShowsByTitle(c,n,a);case 2:s=t.sent,y(s?s.totalResults:0),m(s.Search);case 5:case"end":return t.stop()}}),t)})));return function(e,c,n){return t.apply(this,arguments)}})()(c,d,k)}),[c,d,k]),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h1",{className:"font-weight-light text-center",children:"Show Search"}),Object(f.jsx)(v,{setTitleSearchTerm:a,setTitleSearchType:j}),Object(f.jsxs)("div",{className:"row align-items-top",children:[h&&Object(f.jsx)(N,{showList:h}),!c&&Object(f.jsx)("p",{className:"text-center",children:"search for a show above"}),!h&&c&&Object(f.jsxs)("p",{className:"text-center",children:["Sorry, we couldn't find a ",d," called ",c,".",Object(f.jsx)("br",{}),"Please try again."]})]}),Object(f.jsx)(S,{totalResults:g,currentPage:k,setCurrentPage:P})]})};s.a.render(Object(f.jsx)(T,{}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.f4bb2cb1.chunk.js.map