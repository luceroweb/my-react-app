(this["webpackJsonpmy-react-app"]=this["webpackJsonpmy-react-app"]||[]).push([[0],{52:function(e,t,c){},81:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(18),a=c.n(s),r=(c(52),c(10)),i=c.n(r),o=c(15),l=c(8),d=c(19),j=c(20),b=c(29),u=c.n(b),h="19c7ac68",m="https://www.omdbapi.com/",O=function(){function e(){Object(d.a)(this,e)}return Object(j.a)(e,[{key:"getShowsByTitle",value:function(e,t,c){return u.a.get("".concat(m,"?s=").concat(e,"&type=").concat(t).concat(c?"&page=".concat(c):"","&apikey=").concat(h)).then((function(e){return e.data})).catch((function(e){return console.error(e)}))}},{key:"getShowById",value:function(e){return u.a.get("".concat(m,"?i=").concat(e,"&apikey=").concat(h)).then((function(e){return e.data})).catch((function(e){return console.error(e)}))}}]),e}(),x=c(21),p=c(30),f=c(1),v=function(e){var t=e.setTitleSearchTerm,c=e.setTitleSearchType,s=Object(n.useState)({titleSearchTerm:"",titleSearchType:""}),a=Object(l.a)(s,2),r=a[0],i=a[1],o=function(e){var t=e.target,c=t.name,n=t.value;i(Object(p.a)(Object(p.a)({},r),{},Object(x.a)({},c,n)))};return Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col text-center",children:Object(f.jsxs)("form",{className:"form mb-3",onSubmit:function(e){return function(e){e.preventDefault(),t(r.titleSearchTerm),c(r.titleSearchType||"movie")}(e)},children:[Object(f.jsx)("input",{type:"text",name:"titleSearchTerm",className:"form-control d-inline",placeholder:"Enter movie, series, or episode name...",required:!0,onChange:function(e){return o(e)},style:{width:"19em",marginRight:"8px"},value:r.titleSearchTerm}),Object(f.jsxs)("select",{name:"titleSearchType",className:"form-select d-inline",placeholder:"Type",value:r.titleSearchType,onChange:function(e){return o(e)},style:{width:"7em",marginRight:"8px"},children:[Object(f.jsx)("option",{value:"",disabled:!0,children:"Type"}),Object(f.jsx)("option",{value:"movie",children:"Movie"}),Object(f.jsx)("option",{value:"series",children:"Series"}),Object(f.jsx)("option",{value:"episode",children:"Episode"})]}),Object(f.jsx)("button",{type:"submit",className:"btn btn-primary d-inline",children:"Submit"})]})})})},g=c(84),y=function(e){for(var t=e.totalResults,c=e.currentPage,n=e.setCurrentPage,s=t?Math.ceil(t/10):[],a=[],r=0;r<s;r++)a.push({count:r+1});var i=a.slice(0,2),o=c>3?[Object(f.jsx)("span",{children:"..."},"firstThreeDots")]:[],l=c>0?a.slice(Math.max(c-1,2),Math.min(c+1,s-1)):[],d=c<s-2?[Object(f.jsx)("span",{children:"..."},"lastThreeDots")]:[],j=a.slice(-2),b=function(e){return e.map((function(e){var t=e.count;return Object(f.jsx)(g.a,{disabled:t===c,onClick:function(){return n(t)},children:t},t)}))},u=[].concat(b(i),o,b(l),d,b(j));return Object(f.jsxs)("div",{className:"text-center",children:[s>1&&Object(f.jsxs)("div",{children:[Object(f.jsx)(g.a,{disabled:1===c,onClick:function(){return n(c-1)},children:"<"},"previous"),Object(f.jsxs)(g.a,{disabled:!0,children:["Page ",c," of ",s]}),Object(f.jsx)(g.a,{disabled:c===s,onClick:function(){return n(c+1)},children:">"},"next")]}),s>1&&(s>7?u:b(a))]})},w=function(){function e(){Object(d.a)(this,e)}return Object(j.a)(e,[{key:"addShowToList",value:function(e){var t=localStorage.getItem("showList");t&&(t=JSON.parse(t)).list.push(e),t||(t={list:[e]}),localStorage.setItem("showList",JSON.stringify(t))}},{key:"getShowList",value:function(){var e=localStorage.getItem("showList");return e?JSON.parse(e):null}}]),e}(),N=c.p+"static/media/PosterUnavailable.712e3b5a.jpg",S=function(e){var t=e.imdbID,c=Object(n.useState)(),s=Object(l.a)(c,2),a=s[0],r=s[1];return Object(n.useEffect)((function(){var e=new O;(function(){var t=Object(o.a)(i.a.mark((function t(c){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getShowById(c);case 2:n=t.sent,r(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}})()(t)}),[t]),a?Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-md-6 text-center",children:[Object(f.jsx)("img",{src:"N/A"===a.Poster?N:a.Poster,alt:"".concat(a.Title," poster"),style:{maxWidth:"100%"}}),"N/A"===a.Poster?Object(f.jsx)("span",{className:"text-secondary",children:"No poster avaialble"}):null]}),Object(f.jsxs)("div",{className:"col-md-6",children:["N/A"!==a.imdbRating&&Object(f.jsx)("strong",{className:"float-end text-primary h4",children:a.imdbRating}),Object(f.jsx)("h4",{children:Object(f.jsx)("strong",{children:a.Title})}),"N/A"!==a.Rated&&Object(f.jsx)("span",{className:"badge bg-secondary m-1",children:a.Rated}),"N/A"!==a.Runtime&&Object(f.jsx)("span",{className:"badge bg-secondary m-1",children:a.Runtime}),"N/A"!==a.Genre&&Object(f.jsx)("span",{className:"badge bg-secondary m-1",children:a.Genre}),"N/A"!==a.Plot&&Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"Plot"}),Object(f.jsx)("br",{}),a.Plot]}),"N/A"!==a.Actors&&Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"Actors"}),Object(f.jsx)("br",{}),a.Actors]})]})]}):Object(f.jsx)("h2",{children:"Loading..."})},T=function(e){var t=e.show,c=e.onClose,n=e.children,s=e.buttons;return t?Object(f.jsx)("div",{className:"modal fade show",id:"exampleModal",tabIndex:"-1",style:{display:"block"},children:Object(f.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-scrollable",children:Object(f.jsxs)("div",{className:"modal-content p-0",children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:c})}),Object(f.jsx)("div",{className:"modal-body",children:n}),Object(f.jsxs)("div",{className:"modal-footer",children:[s,Object(f.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:c,children:"Close"})]})]})})}):null},k=function(e){var t=e.show,c=e.index,n=e.buttons,s=e.onClose,a=e.selectedImdbID,r=e.setSelectedImdbID;return Object(f.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6 mb-4",children:[Object(f.jsxs)("div",{className:"card",onClick:function(){return r(t.imdbID)},style:{cursor:"pointer"},children:[Object(f.jsx)("div",{className:"card-img-top",style:{width:"100%",maxHeight:"150%",background:"no-repeat center",overflow:"hidden"},children:Object(f.jsx)("img",{src:"N/A"===t.Poster?N:t.Poster,alt:"".concat(t.Title," poster"),style:{width:"100%"}})}),Object(f.jsxs)("div",{className:"card-body",children:["N/A"===t.Poster?Object(f.jsx)("span",{className:"text-secondary",children:"No poster avaialble"}):null,Object(f.jsx)("p",{className:"card-title",children:t.Title})]})]}),a&&Object(f.jsx)(T,{show:a,onClose:s,buttons:n,children:Object(f.jsx)(S,{imdbID:a})})]},c)},I=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(),r=Object(l.a)(a,2),d=r[0],j=r[1],b=Object(n.useState)([]),u=Object(l.a)(b,2),h=u[0],m=u[1],x=Object(n.useState)(0),p=Object(l.a)(x,2),g=p[0],N=p[1],S=Object(n.useState)(1),T=Object(l.a)(S,2),I=T[0],C=T[1],P=Object(n.useState)(),A=Object(l.a)(P,2),D=A[0],L=A[1],R=new w,B=function(){return L(null)},M=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.addShowToList(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=[Object(f.jsxs)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:function(){return M(D)},children:[Object(f.jsx)("img",{src:"/images/bookmark.svg",alt:"",style:{height:"1em",marginRight:"0.5em"}}),"Add To My Shows"]},D)];return Object(n.useEffect)((function(){var e=new O;(function(){var t=Object(o.a)(i.a.mark((function t(c,n,s){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getShowsByTitle(c,n,s);case 2:a=t.sent,N(a?a.totalResults:0),m(a.Search);case 5:case"end":return t.stop()}}),t)})));return function(e,c,n){return t.apply(this,arguments)}})()(c,d,I)}),[c,d,I]),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)(v,{setTitleSearchTerm:s,setTitleSearchType:j}),Object(f.jsxs)("div",{className:"row align-items-top",children:[h&&h.map((function(e,t){return Object(f.jsx)(k,{show:e,index:t,buttons:E,onClose:B,selectedImdbID:D,addShowToList:M,setSelectedImdbID:L},t)})),!c&&Object(f.jsx)("p",{className:"text-center",children:"search for a show above"}),!h&&c&&Object(f.jsxs)("p",{className:"text-center",children:["Sorry, we couldn't find a ",d," called ",c,".",Object(f.jsx)("br",{}),"Please try again."]})]}),Object(f.jsx)(y,{totalResults:g,currentPage:I,setCurrentPage:C})]})},C=c(46),P=c(5),A=c(25),D=c(33),L=c(45),R=function(){return Object(f.jsx)(A.a,{bg:"light",className:"mb-3",children:Object(f.jsxs)(L.a,{children:[Object(f.jsx)(A.a.Brand,{children:"Show Database"}),Object(f.jsxs)(A.a.Collapse,{children:[Object(f.jsx)(D.a.Link,{href:"/",children:"Search"}),Object(f.jsx)(D.a.Link,{href:"/user-show-list",children:"My List"})]})]})})};a.a.render(Object(f.jsxs)(C.a,{children:[Object(f.jsx)(R,{}),Object(f.jsxs)(P.c,{children:[Object(f.jsx)(P.a,{exact:!0,path:"/",component:I}),Object(f.jsx)(P.a,{exact:!0,path:"/user-show-list",component:function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)([]),r=Object(l.a)(a,2),d=r[0],j=r[1],b=Object(n.useState)([]),u=Object(l.a)(b,2),h=u[0],m=u[1];Object(n.useEffect)((function(){var e=new w;(function(){var t=Object(o.a)(i.a.mark((function t(){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getShowList();case 2:c=t.sent,j(c?c.list:[]);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[j]);var x=new O,p=[];(function(){var e=Object(o.a)(i.a.mark((function e(){var t,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.length){e.next=12;break}t=0;case 2:if(!(t<d.length)){e.next=10;break}return e.next=5,x.getShowById(d[t]);case 5:c=e.sent,p.push(c);case 7:t++,e.next=2;break;case 10:m(p),console.log("done");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),console.log("User Show Info",h);var v=[],g=function(){return s(null)};return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h1",{className:" text-center",children:"User Show List"}),Object(f.jsx)("div",{className:"row align-items-top",children:h.length?h.map((function(e,t){return Object(f.jsx)(k,{show:e,index:t,buttons:v,onClose:g,selectedImdbID:c,setSelectedImdbID:s},t)})):Object(f.jsx)("p",{className:" text-center",children:"You haven't selected any favorite shows yet"})})]})}})]})]}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.73456575.chunk.js.map